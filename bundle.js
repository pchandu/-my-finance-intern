!function(){var t=process.env.IEX,e=procss.env.SENTI;document.addEventListener("keypress",(function(n){if("Enter"===n.key){var c=document.getElementById("ticker-input").value;0===c.length||c.length>4?(document.getElementById("company-name").innerHTML="INVALID TICKER",document.getElementById("ev-to-rev").innerHTML="INVALID",document.getElementById("price-to-sales").innerHTML="INVALID",document.getElementById("peg-ratio").innerHTML="INVALID",document.getElementById("beta").innerHTML="INVALID",document.getElementById("profit-margin").innerHTML="INVALID",document.getElementById("d-to-e").innerHTML="INVALID",document.getElementById("rev-per-employee").innerHTML="INVALID",document.getElementById("avg-10day-vol").innerHTML="INVALID",document.getElementById("avg-30day-vol").innerHTML="INVALID",document.getElementById("high-pt").innerHTML="INVALID",document.getElementById("avg-pt").innerHTML="INVALID",document.getElementById("low-pt").innerHTML="INVALID"):(fetch("https://cors-anywhere.herokuapp.com/https://socialsentiment.io/api/v1/stocks/".concat(c.toUpperCase(),"/"),{headers:{Accept:"application/json",Authorization:"Token ".concat(e)}}).then((function(t){return t.json()})).then((function(t){fetch("https://cors-anywhere.herokuapp.com/https://socialsentiment.io/api/v1/industries/".concat(t.industry_id,"/sentiment/daily/"),{headers:{Accept:"application/json",Authorization:"Token ".concat(e)}}).then((function(t){return t.json()})).then((function(t){fetch("https://cors-anywhere.herokuapp.com/https://socialsentiment.io/api/v1/stocks/".concat(c.toUpperCase(),"/sentiment/daily/"),{headers:{Accept:"application/json",Authorization:"Token ".concat(e)}}).then((function(t){return t.json()})).then((function(e){var n=document.getElementById("myChart").getContext("2d");new Chart(n,{type:"line",data:{labels:["".concat(e[0].date),"".concat(e[1].date),"".concat(e[2].date),"".concat(e[3].date),"".concat(e[4].date),"".concat(e[5].date),"".concat(e[6].date),"".concat(e[7].date)],datasets:[{label:"Stock Sentiment Activity",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgb(106,45,92)",yAxisID:"A",data:["".concat(e[0].activity),"".concat(e[1].activity),"".concat(e[2].activity),"".concat(e[3].activity),"".concat(e[4].activity),"".concat(e[5].activity),"".concat(e[6].activity),"".concat(e[7].activity)]},{label:"Stock Sentiment Score",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgb(255,84,118)",yAxisID:"B",data:["".concat(e[0].score),"".concat(e[1].score),"".concat(e[2].score),"".concat(e[3].score),"".concat(e[4].score),"".concat(e[5].score),"".concat(e[6].score),"".concat(e[7].score)]},{label:"Industry Sentiment Activity",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgb(29,58,20)",yAxisID:"A",data:["".concat(t[0].activity),"".concat(t[1].activity),"".concat(t[2].activity),"".concat(t[3].activity),"".concat(t[4].activity),"".concat(t[5].activity),"".concat(t[6].activity),"".concat(t[7].activity)]},{label:"Industry Sentiment Score",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgb(130,212,187)",yAxisID:"B",data:["".concat(t[0].score),"".concat(t[1].score),"".concat(t[2].score),"".concat(t[3].score),"".concat(t[4].score),"".concat(t[5].score),"".concat(t[6].score),"".concat(t[7].score)]}]},options:{scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{id:"A",type:"linear",position:"left",scaleLabel:{display:!0,labelString:"Activity"},gridLines:{display:!1}},{id:"B",type:"linear",position:"right",scaleLabel:{display:!0,labelString:"Score"},gridLines:{display:!1}}]}}})}))}))})),fetch("https://cloud.iexapis.com/stable/stock/".concat(c,"/quote?token=").concat(t)).then((function(t){return t.json()})).then((function(t){document.getElementById("current-price-output").innerHTML="$".concat(t.iexClose)})),fetch("https://cloud.iexapis.com/stable/stock/".concat(c,"/advanced-stats?token=").concat(t)).then((function(t){return t.json()})).then((function(t){document.getElementById("ev-to-rev").innerHTML="".concat(t.enterpriseValueToRevenue,"x"),document.getElementById("price-to-sales").innerHTML="".concat(parseFloat(t.priceToSales.toFixed(2)),"x"),document.getElementById("peg-ratio").innerHTML="".concat(parseFloat(t.pegRatio).toFixed(2),"x"),document.getElementById("beta").innerHTML="".concat(parseFloat(t.beta).toFixed(2)),document.getElementById("profit-margin").innerHTML="".concat((100*t.profitMargin).toFixed(3),"%"),document.getElementById("d-to-e").innerHTML="".concat(parseFloat(t.debtToEquity).toFixed(2)),document.getElementById("rev-per-employee").innerHTML="$".concat(t.revenuePerEmployee)})),fetch("https://cloud.iexapis.com/stable/stock/".concat(c,"/stats?token=").concat(t)).then((function(t){return t.json()})).then((function(t){document.getElementById("avg-10day-vol").innerHTML=t.avg10Volume,document.getElementById("avg-30day-vol").innerHTML=t.avg30Volume,document.getElementById("company-name").innerHTML=t.companyName})),fetch("https://cloud.iexapis.com/stable/stock/".concat(c,"/recommendation-trends?token=").concat(t)).then((function(t){return t.json()})).then((function(t){document.getElementById("buy-rating-body").innerHTML=t[t.length-1].ratingBuy+t[t.length-1].ratingOverweight,document.getElementById("hold-rating-body").innerHTML=t[t.length-1].ratingHold,document.getElementById("sell-rating-body").innerHTML=t[t.length-1].ratingSell+t[t.length-1].ratingUnderweight,document.getElementById("#analysts").innerHTML=t[t.length-1].ratingSell+t[t.length-1].ratingUnderweight+t[t.length-1].ratingBuy+t[t.length-1].ratingOverweight+t[t.length-1].ratingHold})),fetch("https://cloud.iexapis.com/stable/stock/".concat(c,"/price-target?token=").concat(t)).then((function(t){return t.json()})).then((function(t){document.getElementById("high-pt").innerHTML="$".concat(t.priceTargetHigh.toFixed(0)),document.getElementById("avg-pt").innerHTML="$".concat(t.priceTargetAverage.toFixed(0)),document.getElementById("low-pt").innerHTML="$".concat(t.priceTargetLow.toFixed(0))})))}}))}();